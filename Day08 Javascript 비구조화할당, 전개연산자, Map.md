<Day08 - 0328>
<Javascript 비구조화 할당, 전개연산자, Map>

# 비구조화 할당

- 비구조화 할당(Destructuring)은 배열, 객체, 반복 가능한 객체에서 값을 꺼내어 그 값을 별도의 변수에 대입하는 문장임

var [a, b] = [1, 2];  
// var a = 1, b = 2와 같음

- 이 문장을 실행하면 변수 a와 b를 선언한 후 우변의 배열에서 요소를 하나씩 꺼내어 인덱스 순서대로 a, b에 대입함
- 우변의 배열을 분할하여 좌변의 변수에 할당하므로 분할 할당이라고도 함
- 우변이 배열일 때 좌변의 변수 쌍을 표현하는 문법은 배열 리터럴과 비슷함. 변수를 쉼표로 구분하고 대괄호로 묶음

  1. 이미 선언된 변수를 비구조화 할당하는 예 
      [a, b] = [2*a, 3*b];  
      // a = 2*a, b = 3*b와 같음
      [a, b] = [b, a] = 
      // a 값과 b 값을 교환함

      - 이때 우변의 값의 개수와 좌변 변수의 개수가 같을 필요는 없음
      - 좌변의 변수 개수가 우변의 값 개수보다 많으면 좌변의 남는 변수에는 undefined가 값으로 할당됨
      - 우변의 값 개수가 좌변의 변수 개수보다 많으면 남은 값은 무시됨
      - 변수가 없는 인덱스 값도 무시됨

      [a, b, c] = [1, 2]; 
      // a = 1, b = 2, c = undefined와 같음
      [a, b] = [1, 2, 3]; 
      // a = 1, b = 2와 같음, 3은 무시됨
      [,a,,b] = [1, 2, 3, 4]; 
      // a = 2, b = 4와 같음

      var array, first, second;
      array = [first, second] = [1,2,3,4];
      // first = 1, second = 2, array = [1, 2, 3, 4]와 같음 

  2. 나머지 요소
    - 배열의 비구조화 할당을 할 때는 함수의 나머지 매개변수와 마찬가지로 전개 연산자인 ...을 사용하여 나머지 요소(rest elements)를 이용할 수 있음

    [a,b, ...rest] = [1, 2, 3, 4]; 
    // a = 2, b = 2, rest = [3, 4]와 같음

    - 좌변의 ...rest 부분이 나머지 요소이며, 변수 rest에는 할당되지 않은 우변의 남은 요소들이 배열로 할당됨

---

# 전개연산자

- ...은 전개 연산자(spread operator)라고 함
- 전개 연산자는 반복 가능한(이터러블한) 객체를 반환하는 표현식 앞에 표기하며, 이를 통해 반복 가능한 객체를 배열 리터럴 또는 함수의 인수 목록으로 펼칠 수 있음

  [..."ABC"]  
  // -> ["A", "B", "C"]
  f(..."ABC")  
  // f("A", "B", "C")와 같음
  [1, ...[2, 3, 4], 5]  
  // -> [1, 2, 3, 4, 5]
  f(...[1, 2, 3])  
  // f(1, 2, 3)과 같음

- 배열 두 개를 연결할 때는 보통 Array.prototype.concat 메서드를 사용하지만 전개 연산자를 활용하면 Array.prototype.push 메서드로도 배열을 연결할 수 있음

---

# Map

- Map 객체는 데이터는 수집하여 활용하기 위한 객체
- 값의 고유한 식별 정보인 키와 값의 쌍을 Map 객체 안에 저장해서 사용할 수 있음
- Map 객체 안에서 키는 고유한 값
- Map 객체는 외부에서 키를 사용하여 원하는 값을 추가/삭제/검색할 수 있고, 키와 값의 데이터 타입에는 제한이 없음

1. Map 객체와 Object 객체의 차이점
  - Map 객체에는 데이터를 수집하기 위한 다양한 메서드가 마련되어 있음
  - Object 객체는 키로 문자열만 사용할 수 있지만 Map 객체는 키 타입에 제한이 없음
  - Map 객체는 내부적으로 해시 테이블을 활용하기 때문에 데이터 검색 속도가 빠름
  - Map 객체는 반복 가능(이터러블)하여 for/of 문으로 순회하면 키와 값으로 구성된 배열을 반환함
  - Map 객체는 데이터 개수를 size 프로퍼티로 구할 수 있음 하지만 Object 객체는 프로퍼티 개수를 수동으로 계산해야함 
  - Map 객체는 Object 객체보다 빠르기도 하지만 다양한 데이터 수집 기능까지 제공함

2. Map 객체의 생성
  - Map 객체는 Map 생성자 함수로 생성함
  - 인수를 지정하지 않으면 데이터가 없는 빈 Map 객체가 생성됨

  var map = new Map();
  console.log(map); // -> Map {}

  - 초기 데이터를 인수로 지정해서 생성할 수도 있음
  - 이때 초기 데이터는 요소를 두 개 이상 포함한 배열 [키, 값]을 그 값으로 가지는 반복 가능한(이터러블한) 객체

  var zip = new Map([["Tom", "131-8634"], ["Huck", "556-0002"]]);
  console.log(zip); 
  // -> Map {"Tom" => "131-8634", "Huck" => "556-0002"}

3. 데이터 추가하기
  - Map 객체에 데이터를 추가할 때 set(key, value) 메서드를 사용
  - key는 데이터의 키 값이 되며 value는 데이터의 값이 됨. 이미 그 키 값이 가리키는 데이터가 있다면 덮어씀

4. 값 읽기
  -  특정 키 값이 가리키는 데이터 값을 읽을 때는 get(key) 메서드를 사용
  - key는 데이터의 키값
  - 지정한 키가 Map 객체 안에 없으면 undefined를 반환

5. 데이터가 있는지 확인
  -  Map 객체 안에 특정 키를 가진 데이터가 있는지 확인하려면 has(key) 메서드를 사용
  - key는 데이터의 키 값

6. 데이터의 삭제
  - 특정 키 값이 가리키는 데이터 값을 삭제하려면 delete(key) 메서드를 사용
  - key는 데이터의 키 값
  - Map 객체 안에 있는 모든 데이터를 삭제하려면 clear 메서드를 사용

7. 모든 데이터를 함수로 처리하기
  - forEach 메서드를 활용하면 인수로 받은 함수를 Map 객체의 모든 데이터에 적용할 수 있음 
  - forEach 메서드에 인수로 넘긴 함수는 다음과 같은 인수를 받음

    value : 현재 처리하는 데이터 값
    key : 현재 처리하는 데이터 키
    map : 처리 중인 Map 객체



