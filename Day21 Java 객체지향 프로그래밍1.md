<Day21 - 0417>
<JAVA 객체지향 프로그래밍1>

# 객체지향 프로그래밍 1

  ## 객체 지향 프로그래밍과 클래스
    * 객체 지향 프로래밍이란?
      - 객체는 '의사나 행위가 미치는 대상'이라고 표현할 수 있음
      - 눈에 보이는 사물은 모두 객체 또한 어떤 행동을 나타내는 단어도 객체
      - *** 객체 지향 프로그래밍이란 '어떤 대상(객체)'을 가지고 프로그래밍 한다는 것

    * 생활 속 객체 찾아보기
      - 절차 지향 프로그래밍 : 순서대로 일어나는 일을 시간순으로 프로그래밍 하는 것
      - 객체 지향 프로그래밍 : 객체를 정의하고 객체 간 협력을 프로그래밍 하는 것☆☆☆
      - *** 객체지향 프로그램은 먼저 객체를 만들고 객체 사이에 일어나는 일을 구현하는 것임
      - 객체 지향 프로그래밍을 할 때 중요한 것은 객체를 먼저 정의하고, 객체 간 협력을 어떻게 구현할 것인지를 고민하는 것

    * 클래스 살펴보기
      - 객체 지향 프로그램은 클래스를 기반으로 프로그래밍 함
      - 클래스란? = 객체의 속성과 기능을 코드로 구현한 것☆☆☆
      - 객체를 클래스로 구현한다는 것을 '클래스를 정의한다'라고 함
      - 클래스를 정의하려면 우선 **클래스의 이름**과 **클래스가 가지는 속성 또는 특성**이 필요함
      - 클래스의 속성은 특성이라 하고, 클래스 내부에 변수로 선언
      - 변수를 선언할 때는 각 변수의 속성에 맞는 자료형을 사용해야 함
      - 이렇게 선언하는 클래스의 속성을 '멤버변수' 라고 함
      - 자바 프로그램은 모든 요소가 클래스 내부에 있어야 함

    * 클래스를 정의하는 문법
      - (접근제어자) class 클래스 이름 {
          멤버변수;
          메서드;
        }  // 클래스 이름 앞에 있는 public 예약어는 접근 제어자라고 함

        ``` Java
        public class Student {
        int studentID; // 학번
        String studentName; // 학생이름
        int grade; // 학년
        String address; // 사는 곳
      }
        ```

    * 클래스 이름을 짓는 규칙
      - 대문자로 시작 (소문자로 시작한다고 해서 오류가 발생하는 것은 아니나 개발자들 사이에서 관습처럼 사용되는 규칙)
      - 대문자로 시작하여 카멜 표기법으로 작성

    * 클래스의 속성을 구현하는 멤버변수
      - 클래스에 선언하여 객체 속성을 나타내는 변수를 멤버 변수(member variable) 라고 함
      - 위 예시에서 멤버변수는 int studentID, String studentName, int grade, String address
      - 클래스에 선언하는 멤버변수는 다른말로 속성(property), 특성(attribute) 등으로 표현하기도 함
      - 멤버변수는 속성이 무엇이냐에 따라 알맞는 자료형을 선언해 주어야 함

    * 클래스와 인스턴스
      - 클래스에서는 학생 객체가 가지고 있는 속성을 사용해 학생과 관련된 기능을 구현할 수 있음
      - 클래스 내부에서 멤버 변수를 사용하여 **클래스의 기능을 구현**한 것을 '멤버 함수(member function)' 또는 '메서드(method)'라고 함

    * 패키지란? 
      - 클래스 파일의 묶음
      - 패키지는 계층구조를 가지고 있으며 단순히 클래스 묶음이 아닌 프로젝트 전체 소스 코드를 구성하는 계층구조가 되고, 이 계층구조를 잘 구성해야 소스 코드 관리와 유지보수가 편리해짐
      - 클래스 이름이 같다고 해도 패키지 이름이 다르면 클래스 전체 이름이 다른 것이므로 다른 클래스가 됨
      - 같은 이름의 클래스라도 다른 패키지에 속해 있으면 서로 연관이 없음

---

  ## 메서드
    * 함수의 입력과 반환
      - 함수가 하는 일을 코드로 구현하는 것을 '함수를 정의 한다' 라고 함
      - 함수의 입력을 받는 변수를 '매개변수'라고 함 (함수 내부에서 사용할 괄호 안의 변수)
      - 결과 값을 result 변수에 저장하여 돌려 주는 것을 '결과를 반환한다'고 함
      - 함수를 수행한 후 결과로 되돌려 주는 값인 result를 '반환값'이라고 함
      - 경우에 따라서는 반환값이 없는 함수도 있음
      - 반환값이 없다고 해서 반환형을 쓰는 위치를 비워두면 오류가 발생하므로, 이 위치에 void라고 써줌
      - void는 비어있다는 의미로 '반환할 값이 없다'는 뜻의 예약어☆☆☆

---

    (참고) 자바의 이름 짓기 규약
      - 클래스 이름 : 파스칼케이스 - 단어의 시작 문자는 모두 대문자 (예) OrderInfo, OrderItems
      - 메서드 및 멤버변수 : 카멜케이스 - 첫 단어를 제외 단어의 시작문자는 대문자 (예) showStudentInfo
      - 패키지 이름 : 모두 소문자
      - 상수명 : 모두 대문자, 단어와 단어 사이는 언더바(_)로 구분 (예) NO_OF_STUDENT

---

  ## new 예약어로 클래스 생성하기
      - 클래스를 사용하려면 먼저 클래스를 생성해야 함
      - 클래스형 변수이름 = new 생성자;
      - 클래스를 생성할 때는 new 예약어를 사용하고 이어서 생성자를 써 줌
      - 클래스 자료형 변수에 변수를 선언하고 new 예약어로 생성자를 호출하여 대입하면 새로운 클래스가 생성됨
      - 클래스가 생성된다는 것은 클래스를 실제 사용할 수 있도록 메모리 공간(힙 메모리)을 할당 받는다는 뜻
      - 이렇게 실제로 사용할 수 있도록 생성된 클래스를 **인스턴스**라고 함
      - 인스턴스를 가리키는 클래스형 변수를 **참조변수**라고 함

      ``` Java
      Student studentAhn = new Student();
      // Student 클래스 자료형으로 studentAhn 변수를 선언하고 new Student();로 Student클래스를 생성하여 studentAhn에 대입한다는 뜻
      // studentAhn을 참조변수라고 하고, 이 변수가 생성된 인스턴스를 가리킴
      ```

---

  ## 인스턴스와 참조변수
    * 객체, 클래스, 인스턴스
      - 객체란 '의사나 행위가 미치는 대상'이며 이를 코드로 구현한 것이 **클래스**
      - 클래스가 메모리 공간에 생성된 상태를 **인스턴스**라고 함
      - 생성된 클래스의 인스턴스를 **객체**라고도 함
      - 클래스의 생성자를 호출하면 인스턴스가 만들어 짐
      - 클래스는 하나이지만, 이 클래스로부터 여려 개의 각기 다른 인스턴스를 생성할 수 있음
      - 참조변수를 사용하면 인스턴스의 멤버변수와 메서드를 참조하여 사용할 수 있는데, 이때 마침표(.)연산자를 사용함

---

  ## 인스턴스와 힙 메모리
      - 변수를 저장할 때 사용하는 메모리가 바로 힙 메모리(heap memory)
      - 클래스 생성자를 하나 호출하면 인스턴스가 힙 메모리에 생성됨
      - 지역변수는 스택 메모리에 저장되고, 인스턴스는 힙 메모리에 생성됨
      - 지역변수에 생성된 인스턴스를 대입하는 것은 지역변수에 인스턴스가 생성된 힙 메모리의 주소를 대입한다는 것과 같은 의미임
      - 클래스가 생성될 때마다 인스턴스는 다른 메모리 공간을 차지함
      - 멤버변수를 저장하는 공간이 매번 따로 생긴다는 의미임
      - 이런 이유 때문에 클래스에 선언한 멤버변수를 다른말로 인스턴스 변수라고 함

---

  ## 참조 변수와 참조 값
      - 참조 변수는 힙 메모리에 생성된 인스턴스를 가리킴
      - 힙 메모리에 생성된 인스턴스의 메모리 주소는 참조 변수에 저장됨
      - 출력 내용은 클래스 이름@주소 값
      - 여기에 나오는 주소 값은 다른 말로 해시 코드(hash code) 값이라고도 함
      - 이 값은 자바 가상 머신에서 객체가 생성되었을 때 생성된 객체에 할당하는 가상 주소 값

---

  (참고)
  * 용어 정리
      - 객체 => 객체 지향 프로그램의 대상, 생성된 인스턴스
      - 클래스 => 객체를 프로그래밍 하기 위해 코드로 만든 상태
      - 인스턴스 => 클래스가 메모리에 생성된 상태
      - 멤버변수 => 클래스의 속성, 특징
      - 메서드 => 멤버 변수를 이용하여 클래스의 기능을 구현
      - 참조 변수 => 메모리에 생성된 인스턴스를 가리키는 변수
      - 참조 값 => 생성된 인스턴스의 메모리 주소 값

---

  ## 생성자
      - 생성자가 하는 역할은 인스턴스의 생성과 인스턴스를 생성할 때 멤버 변수가 상수를 초기화 하는 것
      - 생성자는 주로 멤버변수에 대한 값들을 매개변수로 받아서 인스턴스가 새로 생성될 때 멤버 변수 값들을 초기화하는 역할을 함
      - 즉, 인스턴스가 생성됨과 동시에 멤버변수의 값을 지정하고 인스턴스를 초기화하기 위해 생성자를 직접 구현하여 사용함

---      

  ## 디폴트 생성자
      - 생성자는 클래스를 생성할 때만 호출함
      - 생성자 이름은 클래스 이름과 같음
      - 생성자는 반환값이 없음
      - 생성자가 없는 클래스는 클래스파일을 컴파일 할때 자바 컴파일러에서 자동으로 생성자를 만들어 줌
      - 이렇게 자동으로 만들어 주는 생성자를 디폴트 생성자(default constructor)라고 함
      - 자바 컴파일러는 생성자가 하나도 없는 경우에만 디폴트 생성자를 제공함
      - 프로그래머가 생성자를 직접 추가하면 디폴트 생성자는 만들어지지 않음
      - 디폴트 생성자는 매개변수가 없고 구현코드도 없음

---      

  ## 생성자 오버로드
      - 클래스에서 생성자가 두개 이상 제공되는 경우를 생성자 오버로드(constructor overload)함
      - 필요에 따라 매개변수가 다른 생성자를 여러 개를 만들 수 있음
      - 클래스에 생성자를 여러 개 제공하면 이 클래스를 사용하는 코드에서는 원하는 생성자를 선택해서 사용할 수 있음
      - (참고) 객체지향 프로그램에서 메서드 이름이 같고 매개변수만 다른 경우를 오버로드라고 함

---      

  ## 정보 은닉
      - 객체 지향 프로그램에서는 예약어를 사용해 클래스 내부의 변수나 메서드, 생성자에 대한 접근 권한을 지정할 수 있음
      - 이러한 예약어를 '접근 제어자(access modifier)'라고 함
      - 정보은닉은 객체지향 프로그래밍의 특징 중에 하나이며 자바에서는 접근 제어자를 사용하여 정보은닉을 구현함
      - 모든 변수를 private으로 선언해야 하는 것은 아니지만, 필요한 경우에는 private으로 선언하여 오류를 막을 수 있음

---      

  ## 접근 제어자 정리
      -  public => 외부 클래스 어디에서나 접근할 수 있음
      -  protected => 같은 패키지 내부와 상속 관계의 클래스에서만 접근할 수 있고 그 외 클래스에서는 접근할 수 없음
      -  아무것도 없는 경우 => default이며 같은 패키지 내부에서만 접근할 수 있음
      -  private => 같은 클래스 내부에서만 접근할 수 있음

---

  ## this 예약어
      - this는 생성된 인스턴스 스스로를 가리키는 예약어
      - this를 사용해 클래스의 생성자에서 다른 생성자를 호출할 수도 있음
      - this를 사용하여 생성된 클래스 자신의 주소 값을 반환할 수도 있음
      - 인스턴스 주소 값을 반환할 때는 this를 사용하고, 반환형은 클래스 자료형을 사용함

---

  ## static 변수
      - 클래스에서 공통적으로 사용하는 변수를 'static 변수'로 선언함
      - static 변수는 다른 용어로 **정적변수**라고도 함
      - static 변수는 클래스 내부에 선언하지만, 다른 멤버 변수처럼 인스턴스가 생성될 때마다 새로 생성되는 변수가 아님
      - static 변수는 프로그램이 실행되어 메모리에 올라갔을 때 딱 한번 메모리 공간에 할당됨
      - 그리고 그 값은 모든 인스턴스가 공유함
      - static으로 선언한 변수는 인스턴스 생성과 상관없이 먼저 생성되고 그 값을 모든 인스턴스가 공유하게 되는 것임
      - 이런 이유 때문에 static 변수를 클래스에 기반한 변수라고 해서 **클래스 변수(class variable)**라고도 함
      - static 변수는 같은 클래스에서 생성된 인스턴스들이 같은 값을 공유할 수 있으므로, 인스턴스 간에 공통으로 사용할 값이 필요한 경우 사용할 수 있음

---

  ## 클래스 변수
      - static 변수는 인스턴스를 생성할 때마다 만들어지는 것이 아니고 클래스를 선언할 때 특정 메모리에 저장되어 모든 인스턴스가 공유하는 변수임
      - static 변수는 인스턴스 생성과는 별개이므로 인스턴스보다 먼저 생성됨
      - 그러므로 인스턴스가 아닌 클래스 이름으로도 참조하여 사용할 수 있음
      - 따라서 자바에서는 static 변수를 클래스 변수라고도 함
      - static변수, 정적변수, 클래스변수라는 세가지 용어가 있지만 모두 static변수로 같은 의미임☆☆☆
      - 자바에서 static변수를 클래스 변수라고 하는 이유는 인스턴스마다 생성되는 변수가 아니라 클래스에 속해 한 번만 생성되는 변수이고, 이를 여러 인스턴스가 공유하기 때문임

---

  ## 클래스 매서드
      - static 변수를 위한 메서드
      - 이런 메서드를 static메서드 또는 클래스 메서드라고 함
      - 클래스 메서드 내부에서는 인스턴스 변수를 사용할 수 없음
      - 클래스 메서드 내부에서는 인스턴스 메서드 역시 사용할 수 없음
      - 클래스 변수, 클래스 메서드는 인스턴스가 만들어지기 이전에 존해하므로 인스턴스에 접근할 수 없음
      - 클래스 변수, 클래스 메서드는 인스턴스가 생성되지 않아도 사용할 수 있음

---

  ## 변수의 유효범위
    * 지역변수의 유효범위
      - 지역변수는 함수나 메서드 내부에 선언하기 때문에 함수 밖에서는 사용할 수 없음
      - 스택에서 생성되는 지역변수는 함수가 호출될 때 생성되었다가 함수가 반환되면 할당되었던 메모리 공간이 해제되면서 함께 없어짐

    * 멤버변수의 유효범위
      - 멤버변수는 인스턴스 변수라고도 함
      - 클래스가 생성될 때 힙(heap)메모리에 생성되는 변수
      - 멤버변수는 클래스의 어느 메서드에서나 사용할 수 있음
      - 힙에 생성된 인스턴스가 가비지 컬렉터(garbage collector)에 의해 수거되면 메모리에서 사라짐

    * static 변수의 유효범위
      - static 변수는 클래스 생성과 상관 없이 데이터 영역 메모리에 생성됨
      - 인스턴스 변수와 static 변수는 사용하는 메모리가 다름
      - static 변수는 private이 아니라면 클래스 외부에서도 객체생성과는 무관하게 사용할 수 있음
      - 프로그램 실행이 끝난 뒤에 메모리에서 내려가면 static 변수도 소멸됨
      - static 변수는 프로그램이 시작할 때 부터 끝날 때 까지 메모리에 상주하므로 크기가 너무 큰 변수를 static으로 선언하는것은 좋지 않음

---

  ## static 응용 - 싱글톤 패턴
      - 객체 지향 프로그램에서 인스턴스를 단 하나만 생성하는 디자인 패턴을 싱글톤 패턴(singleton pattern)이라고 함
      
    * 생성자를 private으로 만들기
      - 생성자가 public 이면 외부에서 인스턴스를 여러개 생성할 수 있음
      - 싱글톤 패턴에서는 생성자를 반드시 명시적으로 만들고 그 접근 제어자를 private으로 지정해야 함
      - 그러면 생성자가 있으므로 컴파일러가 디폴트 생성자를 만들지 않고, 접근 제어자가 private이므로 외부 클래스에서 마음대로 Company 인스턴스를 생성할 수 없게 됨
      - 즉, Company 클래스 내부에서만 클래스의 생성을 제어할 수 있게 됨

    * 클래스 내부에 static으로 유일한 인스턴스 생성하기
      - private으로 선언하여 외부에서 이 인스턴스에 접근하지 못하도록 제한해야 함

    * 외부에서 참조 할 수 있는 public 메서드 만들기
      - private으로 선언한 유일한 인스턴스를 외부에서도 사용할 수 있도록 설정해야 함
      - 이를 위해 public 메서드를 생성함. 그리고 유일하게 생성한 인스턴스를 반환해 줌
      - 이 때 인스턴스를 반환하는 메서드는 반드시 static으로 선언해야 함
      - 인스턴스 생성과 상관없이 호출할 수 있어야 하기 때문임